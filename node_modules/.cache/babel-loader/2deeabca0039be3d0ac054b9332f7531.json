{"ast":null,"code":"var _jsxFileName = \"/Users/pratish/Desktop/drive/app-to-maintain-records-of-patient/src/components/RegisterPatient.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class RegisterPatient extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      gender: \"\",\n      age: \"\",\n      contact: \"\",\n      height: \"\",\n      weight: \"\",\n      disease: \"\",\n      pdisease: \"\",\n      disabilities: \"\",\n      redirec: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(evt) {\n    evt.preventDefault();\n    const value = evt.target.value;\n    this.setState({ ...this.state,\n      [evt.target.name]: value\n    });\n  }\n\n  handlecontact(evt) {\n    evt.preventDefault();\n  }\n\n  async handleSubmit(evt) {\n    evt.preventDefault();\n    let isnum = /^\\d+$/.test(this.state.contact);\n    const {\n      redirec\n    } = this.state;\n    if (!this.state.name || !this.state.age || !this.state.gender || !this.state.height || !this.state.weight || !this.state.contact) alert(\"Please enter all the necessary details.\");else if (parseInt(this.state.contact) > 9999999999 || parseInt(this.state.contact) < 1000000000 || this.state.contact === null || !isnum) alert(\"Please enter valid contact number.\");else {\n      var bm = this.state.weight / (0.01 * this.state.height * (0.01 * this.state.height));\n      var btype = \"\";\n      if (bm < 18) btype = \"Underweight\";else if (bm > 25) btype = \"Overweight\";else btype = \"Normal Weight\";\n      const pdata = {\n        \"id\": parseInt(new Date().getTime().toString()),\n        \"name\": this.state.name,\n        \"age\": this.state.age,\n        \"gender\": this.state.gender,\n        \"height\": this.state.height,\n        \"weight\": this.state.weight,\n        \"disease\": this.state.disease,\n        \"pdisease\": this.state.pdisease,\n        \"disabilities\": this.state.disabilities,\n        \"body_type\": btype,\n        \"bmi\": bm.toFixed(2),\n        \"contact\": parseInt(this.state.contact)\n      };\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      const url = \"http://localhost:3500/patients\";\n\n      try {\n        const data = await axios.post(url, pdata, {\n          headers: headers\n        });\n        alert(\"Successfully added new patient.\");\n        this.setState({\n          redirec: true\n        });\n        this.state.redirec = true;\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    console.log(this.state.redirec);\n  }\n\n  render() {\n    if (this.state.loggedIn === false) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 16\n      }, this);\n    } else {\n      const itemStr = localStorage.getItem(\"token\");\n\n      if (itemStr === null) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 20\n        }, this);\n      } else if (itemStr) {\n        const item = JSON.parse(itemStr);\n        const now = new Date();\n\n        if (now.getTime() > item.expiry) {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/SessionExpired\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 24\n          }, this);\n        }\n      }\n    }\n\n    if (this.state.redirec === true) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 16\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 20\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"Patient Registration App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/logout\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"registerPatient\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(\"u\", {\n              children: \"Please Enter New Patient Details:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"table\", {\n            border: \"1\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '16%'\n                },\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '15%'\n                },\n                children: \"Gender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '6%'\n                },\n                children: \"Age\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '11%'\n                },\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '8%'\n                },\n                children: [\"Height\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 51\n                }, this), \"(in cm)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '8%'\n                },\n                children: [\"Weight\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 51\n                }, this), \"(in kg)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '14%'\n                },\n                children: \"Disease\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '15%'\n                },\n                children: \"Pre-Diagonised Disease\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Disability\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    width: '90%'\n                  },\n                  name: \"name\",\n                  placeholder: \"Name..\",\n                  value: this.state.name,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  width: '8%'\n                },\n                children: [\"Male\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  value: \"Male\",\n                  name: \"gender\",\n                  checked: this.state.gender === \"Male\",\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this), \"Female\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  value: \"Female\",\n                  name: \"gender\",\n                  checked: this.state.gender === \"Female\",\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    width: '80%'\n                  },\n                  type: \"number\",\n                  min: \"1\",\n                  max: \"100\",\n                  name: \"age\",\n                  placeholder: \"Age..\",\n                  value: this.state.age,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    width: '85%'\n                  },\n                  name: \"contact\",\n                  placeholder: \"Phone Number..\",\n                  value: this.state.contact,\n                  onChange: this.handlecontact\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    width: '70%'\n                  },\n                  type: \"number\",\n                  min: \"1\",\n                  max: \"300\",\n                  name: \"height\",\n                  placeholder: \"height..\",\n                  value: this.state.height,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    width: '70%'\n                  },\n                  type: \"number\",\n                  min: \"1\",\n                  max: \"200\",\n                  name: \"weight\",\n                  placeholder: \"weight..\",\n                  value: this.state.weight,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  style: {\n                    width: '90%'\n                  },\n                  name: \"disease\",\n                  placeholder: \"Disease..\",\n                  value: this.state.disease,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  style: {\n                    width: '90%'\n                  },\n                  name: \"pdisease\",\n                  placeholder: \"Pre-Diagonised Disease..\",\n                  value: this.state.pdisease,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"disabilities\",\n                  style: {\n                    width: '75%'\n                  },\n                  onChange: this.handleChange,\n                  value: this.state.disabilities,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"None\",\n                    children: \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"By Birth\",\n                    children: \"By Birth\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"By Accident\",\n                    children: \"By Accident\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            style: {\n              padding: '2%'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              id: \"newPatientSubmitButton\",\n              children: \"Add new patient\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 12\n    }, this);\n  }\n\n}\nexport default RegisterPatient;","map":{"version":3,"sources":["/Users/pratish/Desktop/drive/app-to-maintain-records-of-patient/src/components/RegisterPatient.js"],"names":["React","Component","Link","Redirect","axios","RegisterPatient","constructor","props","state","name","gender","age","contact","height","weight","disease","pdisease","disabilities","redirec","handleSubmit","bind","handleChange","evt","preventDefault","value","target","setState","handlecontact","isnum","test","alert","parseInt","bm","btype","pdata","Date","getTime","toString","toFixed","headers","url","data","post","error","console","log","message","render","loggedIn","itemStr","localStorage","getItem","item","JSON","parse","now","expiry","width","padding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport class RegisterPatient extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            name: \"\",\r\n            gender: \"\",\r\n            age: \"\",\r\n            contact: \"\",\r\n            height: \"\",\r\n            weight: \"\",\r\n            disease: \"\",\r\n            pdisease: \"\",\r\n            disabilities: \"\", \r\n            redirec: false\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    handleChange(evt) {\r\n        evt.preventDefault();\r\n        const value = evt.target.value;\r\n        this.setState({\r\n          ...this.state,\r\n          [evt.target.name]: value\r\n        });\r\n    }\r\n\r\n    handlecontact(evt){\r\n        evt.preventDefault();\r\n\r\n\r\n    }\r\n\r\n    async handleSubmit(evt){\r\n        evt.preventDefault();\r\n        let isnum = /^\\d+$/.test(this.state.contact);\r\n        const { redirec } = this.state;\r\n        if(!this.state.name || !this.state.age || !this.state.gender || !this.state.height || !this.state.weight || (!this.state.contact))  alert(\"Please enter all the necessary details.\")\r\n        else    if(parseInt(this.state.contact)>9999999999 || parseInt(this.state.contact)<1000000000 || (this.state.contact)===null || !isnum)    alert(\"Please enter valid contact number.\")\r\n        else{\r\n            var bm=(this.state.weight)/((0.01*this.state.height)*(0.01*this.state.height));\r\n            var btype=\"\";\r\n            if(bm<18)   btype=\"Underweight\";\r\n            else    if(bm>25)   btype=\"Overweight\";\r\n            else    btype=\"Normal Weight\";\r\n            const pdata={\r\n                \"id\": parseInt(new Date().getTime().toString()), \r\n                \"name\": this.state.name, \r\n                \"age\": this.state.age, \r\n                \"gender\": this.state.gender, \"height\": this.state.height, \"weight\": this.state.weight, \"disease\": this.state.disease,\r\n                \"pdisease\": this.state.pdisease, \"disabilities\": this.state.disabilities,\r\n                \"body_type\": btype, \"bmi\": bm.toFixed(2), \r\n                \"contact\": parseInt(this.state.contact)\r\n            };            \r\n            const headers = {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        const url = \"http://localhost:3500/patients\";\r\n\r\n        try {\r\n                const data = await axios.post(url, pdata, { headers: headers})\r\n                alert(\"Successfully added new patient.\");\r\n                this.setState({redirec: true})\r\n                this.state.redirec=true;\r\n                \r\n            } catch(error) {\r\n                console.log(error.message);\r\n            }\r\n        }\r\n        console.log(this.state.redirec)\r\n\r\n    }\r\n\r\n  render() {\r\n    if(this.state.loggedIn===false){\r\n        return <Redirect to=\"/\"/>\r\n    }else{\r\n        const itemStr = localStorage.getItem(\"token\")\r\n        if(itemStr===null){\r\n            return <Redirect to=\"/\"/>\r\n        }else   if(itemStr){\r\n            const item = JSON.parse(itemStr)\r\n            const now = new Date()\r\n            if (now.getTime() > item.expiry) {\r\n                return <Redirect to=\"/SessionExpired\"/>\r\n            }\r\n        }         \r\n    }\r\n    if(this.state.redirec===true){\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    return <div>\r\n\r\n        <nav>\r\n            <div className ='logo'>\r\n                <p><Link to = '/'>Home</Link></p>\r\n            </div>\r\n            <div className='logo'>Patient Registration App</div>\r\n                <div><Link to=\"/logout\">Logout</Link></div>\r\n        </nav>\r\n\r\n        <div data-testid='registerPatient'>      \r\n        <section><h1><u>Please Enter New Patient Details:</u></h1></section>\r\n        <br/><br/><br/><br/>\r\n        <form onSubmit={this.handleSubmit}>\r\n            <table border=\"1\">\r\n            <tr>\r\n                <th style={{ width: '16%' }}>Name</th>\r\n                <th style={{ width: '15%' }}>Gender</th>\r\n                <th style={{ width: '6%' }}>Age</th>\r\n                <th style={{ width: '11%' }}>Phone Number</th>\r\n                <th style={{ width: '8%' }}>Height<br/>(in cm)</th>\r\n                <th style={{ width: '8%' }}>Weight<br/>(in kg)</th>\r\n                <th style={{ width: '14%' }}>Disease</th>\r\n                <th style={{ width: '15%' }}>Pre-Diagonised Disease</th>\r\n                <th>Disability</th>\r\n            </tr>\r\n\r\n            <tr>\r\n                <td>\r\n                <input\r\n                    style={{ width: '90%' }}\r\n                    name='name' \r\n                    placeholder='Name..'\r\n                    value={this.state.name}\r\n                    onChange={this.handleChange}\r\n                />\r\n                </td>\r\n\r\n                <td style={{ width: '8%' }}>\r\n                Male<input type=\"radio\" value=\"Male\" name=\"gender\" checked={this.state.gender === \"Male\"} onChange={this.handleChange}/> \r\n                Female<input type=\"radio\" value=\"Female\" name=\"gender\" checked={this.state.gender === \"Female\"} onChange={this.handleChange}/>\r\n                </td>\r\n            \r\n                <td>\r\n                <input\r\n                    style={{ width: '80%' }}\r\n                    type=\"number\"\r\n                    min=\"1\" \r\n                    max=\"100\"\r\n                    name='age' \r\n                    placeholder='Age..'\r\n                    value={this.state.age}\r\n                    onChange={this.handleChange}\r\n                />\r\n                </td>\r\n            \r\n                <td>\r\n                <input\r\n                    style={{ width: '85%' }}\r\n                    name='contact' \r\n                    placeholder='Phone Number..'\r\n                    value={this.state.contact}\r\n                    onChange={this.handlecontact}\r\n                />\r\n                </td>\r\n            \r\n                <td>\r\n                <input\r\n                    style={{ width: '70%' }}\r\n                    type=\"number\"\r\n                    min=\"1\" \r\n                    max=\"300\"\r\n                    name='height' \r\n                    placeholder='height..'\r\n                    value={this.state.height}\r\n                    onChange={this.handleChange}\r\n                />\r\n                </td>\r\n\r\n                <td>\r\n                <input\r\n                    style={{ width: '70%' }}\r\n                    type=\"number\"\r\n                    min=\"1\" \r\n                    max=\"200\"\r\n                    name='weight' \r\n                    placeholder='weight..'\r\n                    value={this.state.weight}\r\n                    onChange={this.handleChange}\r\n                />\r\n                </td>\r\n                \r\n                <td>\r\n                <textarea\r\n                    style={{ width: '90%' }}\r\n                    name=\"disease\" \r\n                    placeholder=\"Disease..\"\r\n                    value={this.state.disease}\r\n                    onChange={this.handleChange}\r\n                />\r\n                </td>\r\n\r\n                <td>\r\n                <textarea\r\n                    style={{ width: '90%' }}\r\n                    name=\"pdisease\" \r\n                    placeholder=\"Pre-Diagonised Disease..\"\r\n                    value={this.state.pdisease}\r\n                    onChange={this.handleChange}\r\n                />\r\n                </td>\r\n\r\n                <td>\r\n                <select name=\"disabilities\" style={{ width: '75%' }} onChange={this.handleChange} value={this.state.disabilities}>\r\n                <option value=\"None\">None</option>\r\n                <option value=\"By Birth\">By Birth</option>\r\n                <option value=\"By Accident\">By Accident</option>                \r\n                </select>\r\n                </td>          \r\n            \r\n            </tr>            \r\n            </table>\r\n            <section style={{ padding: '2%' }}><button type=\"submit\" id='newPatientSubmitButton'>Add new patient</button></section>\r\n            \r\n        </form>   \r\n        </div>  \r\n    </div>\r\n  }\r\n}\r\n\r\nexport default RegisterPatient;"]},"metadata":{},"sourceType":"module"}